---
import BtnMenu from '@atoms/BtnMenu.astro';
import Thumb from '@atoms/Thumb.astro';
import Networks from '@atoms/Networks.astro';
import perfil from '@assents/images/perfil.jpg';
---

<script>
	document.addEventListener('DOMContentLoaded', () => {
		const links = document.querySelectorAll('.Navbar.navDesktop > a');

		links.forEach((link) => {
			link.addEventListener('click', (e) => {
				e.preventDefault();
				const targetId = link.getAttribute('href')!.substring(1);
				const targetElement = document.getElementById(targetId);

				window.scrollTo({
					top: targetElement!.offsetTop,
					behavior: 'smooth',
				});
			});
		});
	});
</script>
<div class='Navbar'>
	<div class='BarContent'>
		<div class='PerfilContent'>
			<Thumb img={perfil} className='imagePerfil' />
			<h2 id='name'>Jhair Infanzon</h2>
		</div>
		<nav class='navDesktop'>
			<a href='#index'>Home</a>
			<a href='#about'>Sobre mi</a>
			<a href='#howdo'>Que hago</a>
			<a href='#resume'>Resumen</a>
			<a href='#portfolio'>Portafolio</a>
			<a href='#'>Testimonios</a>
			<a href='#contact'>Contacto</a>
		</nav>
		<Networks />

		<BtnMenu className='mx-[2rem] laptop:hidden' />
	</div>

	<nav class='navMobile'>
		<a href='#index'>Home</a>
		<a href='#about'>Sobre mi</a>
		<a href='#howdo'>Que hago</a>
		<a href='#resume'>Resumen</a>
		<a href='#portfolio'>Portafolio</a>
		<a href='#'>Testimonios</a>
		<a href='#contact'>Contacto</a>
	</nav>
</div>

<style scoped>
	.Navbar {
		@apply bg-secondary w-full  text-white top-0 left-0 fixed flex items-center justify-between z-[99];
		@screen laptop {
			position: relative;
			width: 35rem;
			align-items: start;
		}
	}
	.BarContent {
		@apply flex items-center w-full justify-between  bg-secondary py-[1.7rem] z-[90];
		@screen laptop {
			height: 100vh;
			max-height: 90rem;
			flex-direction: column;
			padding-bottom: 4rem;
		}
	}
	.navMobile {
		@apply absolute  top-[100%] flex flex-col bg-black/90 translate-y-[-120%] w-full px-[2rem] py-[1.5rem] rounded-b-2xl z-[80];
		transition: transform 0.5s ease-in-out;
		a {
			@apply pt-[1.5rem] pb-[1.2rem] relative;
			&::before {
				@apply absolute bottom-0 h-[0.1rem] w-full bg-white;
				content: '';
			}

			&:last-child {
				&::before {
					@apply hidden;
				}
			}
		}
		@screen laptop {
			display: none;
		}
	}

	.navDesktop {
		@apply hidden laptop:flex flex-col h-full justify-between items-center text-[1.6rem];
		padding-block: 8rem;
		a {
			transition: color 0.3s ease-in-out;
		}
		a:hover {
			@apply text-tertiary;
		}
	}

	.PerfilContent {
		.imagePerfil {
			@apply hidden rounded-full relative mx-auto w-[18rem] border-[1rem] border-[#343A40];
			img {
				@apply rounded-full;
			}

			@screen laptop {
				display: block;
			}
		}

		h2 {
			@apply text-[2.2rem] font-[500] px-[2rem] mt-4;
		}
	}
</style>